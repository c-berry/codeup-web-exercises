<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promises Lecture</title>
</head>
<body>

<div id="output"></div>

<script src="js/jquery-2.2.4.js"></script>
<script>

    //AJAX request:
// $.get("data/rows.json", function (result){
//     console.log(result);
// });

    //ES6 AND FETCH API/PROMISES
// fetch("data/rows.json").then(response =>
//     response.json()).then(info => console.log(info.data));
//     console.log("did this happen after the call?");

    //CALLBACKS: FUNCTION PASSED TO OTHER FUNCTIONS, SO A FUNCTION CAN CALL ANOTHER FUNCTION; A CALLBACK CAN RUN ADTER ANOTHER FUNCTIONS HAS FINISHED RUNNING:
    // function sayHello(name, greeting){
    //     return `${name}, ${greeting}!`;
    // }
    // const greeting = sayHello("Hello", "Jay");
    // function displayedOutput(input){
    //     document.getElementById("output").innerHTML = input;
    // }
    // displayedOutput(greeting);
//OR:
    // function sayHello(name, greeting){
    //     const hello = `${name}, ${greeting}!`;
    //     displayedOutput(hello);
    // }
    // function displayedOutput(input){
    //     document.getElementById("output").innerHTML = input;
    // }
    // sayHello("Hello", "Jay");
//OR:
    function myGreeting(greeting, name, outputFunction){
        const hello = `${greeting}, ${name}!`;
        outputFunction(hello);
    }
    function displayInput(input){
        document.getElementById("output").innerHTML = input;
    }
    myGreeting("Hello", "Jay", displayInput);
    // setTimeout(()=> myGreeting("Hola", "Dane", displayInput), 2000);
    // OR:
    // setTimeout(myGreeting, 2000, "Yo", "dude", displayInput);

    // EXTERNAL RESOURCES:
    function getInfo(outputFunction){
        const request = $.get("data/rows.json", function (result){
            const infoToDisplay = result.data;
            outputFunction(infoToDisplay);
        });
    }
    // getInfo(displayInput);

    //ASYNCHRONOUS CODE
    // function displayVehicleInfo(info){
    //     let html = "";
    //     info.forEach((car, index) => {
    //         if (!car[12]||!car[9]||!car[14]||!car[13]) {
    //             html += '';
    //         } else {
    //             html += `<p>${index}:${car[12]} ${car[9]} ${car[14]} ${car[13]}</p>`;
    //         }
    //     });
    //     $("#output").append(html);
    // }
    // getInfo(displayVehicleInfo);

    //PROMISES:
    //  const ourFirstPromise = new Promise((resolve, reject) => {
    //      setTimeout( ()=> {
    //          if (Math.random() > 0.5) {
    //              resolve("resolved");
    //          } else {
    //              reject("rejected");
    //          }
    //      }, 1000);
    //  });
    //  ourFirstPromise.then(value => console.log(value)).catch(error =>
    //  console.log(error));
    //
    // const letsLookIntoPromise = fetch("data/rows.json").then(response =>
    //     response.json()).then(info => console.log(info.data)).catch(error => console.log(error));
    // console.log(letsLookIntoPromise);

    fetch("https://api.github.com/users").then(response => response.json()).then(users => console.log(users)).catch(error => console.log(error));



</script>
</body>
</html>
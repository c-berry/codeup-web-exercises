<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
</head>
<body>
<h1 id="hidden"
    style="font-size: 100px;
    text-align: center;
    display: none">
    NEW HIGH SCORE!</h1>
<div style="text-align: center">
    <img id="konami-code-img" src="img/konami-code.jpg">
</div>
<div style="text-align: center">
    <img id="yoshi-gif"
         src="img/yoshi.webp"
         style="display: none">
</div>
<div id="play-again"
    style="background-color: white;
    margin-left: 0;
    margin-right: 0;
    display: none;
    height: 20px;
    width: 100%;
    text-align: center">
    > Click To Play Again <</div>

<audio id="theme-music"
       src="audio/menu-theme.mp3"></audio>

<script src="js/jquery-2.2.4.js"></script>
<script>
    "use strict";

    var konamiCode = [
        38, 38, 40, 40, 37, 39, 37, 39, 66, 65, 13
    ];
    var i = 0

    $(document).keyup(function(e){
        console.log("log1",e.keyCode);
        console.log("log2",i);
        if (e.keyCode === konamiCode[i]) {
            i++;
        } if (i === konamiCode.length) {
            console.log("log3", i);
            alert("Cheat code activated!")
            activateCheatCode();
            i = 0;
            //WORK IN PROGRESS:
        // } if (e.keyCode !== konamiCode[i]) {
        //     location.reload();
        }
    });

    // CYCLES THRU ARRAY OF COLORS RANDOMLY:
    function changeColor(){
        var arr = ["red", "hotpink", "rebeccapurple", "blue", "cyan", "green", "yellow", "orange"];
        $("body").css({
            backgroundColor : arr[parseInt(Math.random() * 8)]
        });
    }

    // HIDES AND SHOWS CERTAIN ELEMENTS:
    function activateCheatCode() {
        setInterval(changeColor,600);
        $("audio#theme-music")[0].play();
        $("img#konami-code-img").hide();
        $("h1").show();
        $("#play-again").show();
        $("img#yoshi-gif").show();
    }

    // REFRESH PAGE ON CLICK:
    $('#play-again').click(function() {
        location.reload();
    });

</script>
</body>
</html>